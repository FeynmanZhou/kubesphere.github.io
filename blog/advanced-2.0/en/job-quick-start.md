---
title: "Create a Job to compute π to 2000 places"
---

## Objective

This tutorial describes the basic features of a Job by creating a parallel task to perform a simple calculation and outputting PI to 2000 decimal.

## Prerequisites

- You need to create a workspace and project, see the [Tutorial 1](admin-quick-start.md) if not yet.
- You need to sign in with `project-regular` account and enter into the corresponding project.

## Hands-on Lab

### Step 1: Create a Job

1.1. Enter into `demo-project`, navigate to **Wordloads → Jobs**, then click **Create Job**.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716210828.png)

1.2. Fill in the basic information, e.g. `Name : job-demo`, then choose **Next**.

1.3. Fill the job settings with the following values:

- Back Off Limit：set to 5 (default to 6); Maximum retry count before mark the build task as failed; 
- Completions：set to 4 (default to 1); Expected number of completed build tasks;
- Parallelism：set to 2 (default to 1); Expected maximum number of parallel build tasks;
- Active Deadline Seconds：set to 200; The timeout of the running build tasks. Once a Job reaches its value, all of its running Pods are terminated and the Job status will become "Failed".

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716211839.png)

Click **Next** when you've completed Job Settings.

1.4. Leave the [RestartPolicy](https://kubernetes.io/docs/concepts/workloads/Pods/pod-lifecycle/#restart-policy) as **Never**, then click **Add Container**.

1.5. Fill in the Pod Template table, Container Name can be customized by the user, fill in the image with `perl`.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716212138.png)

1.6. Then check the box of **Start Command**, add the following 4 lines of commands in sequence, that is, perform a simple calculation and outputting the Pi to 2000 decimal.

```bash
# Command
perl
-Mbignum=bpi
-wle
print bpi(2000)
```

Then choose **Save** and click **Next** when you've done.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716212547.png)

1.7. Skip the **Volume Settings** and **Label Settings**, then click **Create** button directly, you will be able to see the `job-demo` has been created successfully.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716212734.png)

### Step 2: Verifying the Job

2.1. Enter into the `job-demo` and inspect the execution records, we can see it displays "completed (4/4)" and there are 4 Pods completed running, since the `completions` are set to `4` in the Step 2.

> Note: It will change to "completes(4/4)" after around 1 min, since it requies pulling Docker images and creating containers. 

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716213402.png)

2.2. Switch to the **Resource Status**, we can easily find that there are 4 Pods generated by the `job-demo`. Since the **Parallelism** is set to 2, the Job will create 2 Pods in advance, then continue to create 2 Pods in parallel, finally 4 Pods will be created at the end of the Job.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716213505.png)

2.3. Expand one of the Pod, e.g. `job-demo-bh5bc`, then click `Container Logs` to inspect its container logs. 

2.4. Then you will be able to see the container logs outputting page which display PI to 2000 decimal.

![](https://pek3b.qingstor.com/kubesphere-docs/png/20190716213657.png)

## Next Step

Tutorial 6 - [Application Template: One-click Deployment of Applications](app-template.md).

